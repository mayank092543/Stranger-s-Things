{"ast":null,"code":"import _asyncToGenerator from\"/home/mayankawasthi/Strangers.Things/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/mayankawasthi/Strangers.Things/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/mayankawasthi/Strangers.Things/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from'react';import Posts from'./Posts';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var LoginForm=function LoginForm(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var handleLoginSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return fetch('https://strangers-things.herokuapp.com/api/2110-VPI-WEB-PT/users/login',{method:'POST',headers:{'Content-Type':'Application/json'},body:JSON.stringify({user:{username:username,password:password}})}).then(function(response){return response.json();}).then(function(result){console.log(result);var token=result.data.token;localStorage.setItem(\"userToken\",token);}).catch(console.error);case 3:response=_context.sent;setUsername(\"\");setPassword(\"\");case 6:case\"end\":return _context.stop();}}},_callee);}));return function handleLoginSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{id:\"login\",children:\"Log In\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLoginSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username*\",className:\"userName\",value:username,onChange:function onChange(event){return setUsername(event.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password*\",className:\"password\",value:password,onChange:function onChange(event){return setPassword(event.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"login-Btn\",children:\"LOG IN\"})]})]});};export default LoginForm;","map":{"version":3,"sources":["/home/mayankawasthi/Strangers.Things/src/components/LoginForm.js"],"names":["React","useState","Posts","LoginForm","username","setUsername","password","setPassword","handleLoginSubmit","event","preventDefault","fetch","method","headers","body","JSON","stringify","user","then","response","json","result","console","log","token","data","localStorage","setItem","catch","error","target","value"],"mappings":"iXAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,C,6IAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CAEpB,cAAgCF,QAAQ,CAAC,EAAD,CAAxC,wCAAOG,QAAP,eAAiBC,WAAjB,eACA,eAAgCJ,QAAQ,CAAC,EAAD,CAAxC,yCAAOK,QAAP,eAAiBC,WAAjB,eAEA,GAAMC,CAAAA,iBAAiB,0FAAG,iBAAOC,KAAP,+HACtBA,KAAK,CAACC,cAAN,GADsB,sBAECC,CAAAA,KAAK,CAAC,wEAAD,CAA2E,CACnGC,MAAM,CAAE,MAD2F,CAEnGC,OAAO,CAAE,CACL,eAAgB,kBADX,CAF0F,CAKnGC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBC,IAAI,CAAE,CACFb,QAAQ,CAAEA,QADR,CAEFE,QAAQ,CAAEA,QAFR,CADW,CAAf,CAL6F,CAA3E,CAAL,CAWpBY,IAXoB,CAWf,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAXO,EAYlBF,IAZkB,CAYb,SAAAG,MAAM,CAAI,CACZC,OAAO,CAACC,GAAR,CAAYF,MAAZ,EACA,GAAMG,CAAAA,KAAK,CAAGH,MAAM,CAACI,IAAP,CAAYD,KAA1B,CACAE,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAkCH,KAAlC,EACH,CAhBkB,EAiBlBI,KAjBkB,CAiBZN,OAAO,CAACO,KAjBI,CAFD,QAEhBV,QAFgB,eAqBtBd,WAAW,CAAC,EAAD,CAAX,CACAE,WAAW,CAAC,EAAD,CAAX,CAtBsB,sDAAH,kBAAjBC,CAAAA,iBAAiB,4CAAvB,CAyBA,mBACI,wCACI,WAAI,EAAE,CAAC,OAAP,oBADJ,cAGI,cAAM,QAAQ,CAAEA,iBAAhB,wBACI,cAAO,IAAI,CAAC,MAAZ,CACC,WAAW,CAAC,WADb,CAEC,SAAS,CAAC,UAFX,CAGC,KAAK,CAAEJ,QAHR,CAIC,QAAQ,CAAE,kBAACK,KAAD,QAAWJ,CAAAA,WAAW,CAACI,KAAK,CAACqB,MAAN,CAAaC,KAAd,CAAtB,EAJX,EADJ,cAQI,cAAO,IAAI,CAAC,UAAZ,CACC,WAAW,CAAC,WADb,CAEC,SAAS,CAAC,UAFX,CAGC,KAAK,CAAEzB,QAHR,CAIC,QAAQ,CAAE,kBAACG,KAAD,QAAWF,CAAAA,WAAW,CAACE,KAAK,CAACqB,MAAN,CAAaC,KAAd,CAAtB,EAJX,EARJ,cAeI,aAfJ,cAea,aAfb,cAiBI,eAAQ,IAAI,CAAC,QAAb,CACC,SAAS,CAAC,WADX,oBAjBJ,GAHJ,GADJ,CA6BH,CA3DD,CA6DA,cAAe5B,CAAAA,SAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport Posts from './Posts';\r\n\r\nconst LoginForm = () => {\r\n\r\n    const [username, setUsername] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n\r\n    const handleLoginSubmit = async (event) => {\r\n        event.preventDefault();\r\n        const response = await fetch('https://strangers-things.herokuapp.com/api/2110-VPI-WEB-PT/users/login', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'Application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                user: {\r\n                    username: username,\r\n                    password: password\r\n                }\r\n            })\r\n        }).then(response => response.json())\r\n            .then(result => {\r\n                console.log(result);\r\n                const token = result.data.token;\r\n                localStorage.setItem(\"userToken\", token);\r\n            })\r\n            .catch(console.error);\r\n\r\n        setUsername(\"\");\r\n        setPassword(\"\");\r\n\r\n    }\r\n    return (\r\n        <>\r\n            <h1 id=\"login\">Log In</h1>\r\n\r\n            <form onSubmit={handleLoginSubmit}>\r\n                <input type=\"text\"\r\n                 placeholder=\"Username*\"\r\n                 className=\"userName\"\r\n                 value={username}\r\n                 onChange={(event) => setUsername(event.target.value)}>\r\n                </input>\r\n\r\n                <input type=\"password\"\r\n                 placeholder=\"Password*\"\r\n                 className=\"password\" \r\n                 value={password}\r\n                 onChange={(event) => setPassword(event.target.value)}>\r\n                </input> \r\n\r\n                <br></br><br></br>\r\n\r\n                <button type=\"submit\"\r\n                 className=\"login-Btn\">\r\n                 LOG IN\r\n                </button>\r\n\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default LoginForm;"]},"metadata":{},"sourceType":"module"}