{"ast":null,"code":"var _jsxFileName = \"/home/mayankawasthi/Strangers.Things/src/components/Posts.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { async } from 'q';\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Posts = () => {\n  const userToken = localStorage.getItem(\"userToken\");\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: userToken ? /*#__PURE__*/_jsxDEV(AuthenticatedPosts, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(UnauthenticatedPosts, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 46\n    }, this)\n  }, void 0, false);\n};\n\n_c = Posts;\n\nconst AuthenticatedPosts = async () => {\n  _s();\n\n  const [posts, setPosts] = useState([]);\n  const response = await fetch(\"https://strangers-things.herokuapp.com/api/2110-VPI-WEB-PT/posts\").then(response => response.json()).then(result => {\n    console.log(result.data.post);\n    setPosts(result.data.post);\n  }).catch(console.error);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: posts.map(post => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: post.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: post.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: post.price\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"add-Btn\",\n        onClick: handleAddPost,\n        children: \"Add Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"delete-Btn\",\n        onClick: handleDeletePost,\n        children: \"Delete Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 12\n      }, this)]\n    }, post._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 27\n    }, this))\n  }, void 0, false);\n};\n\n_s(AuthenticatedPosts, \"QFg9xhJ0x9yrnvUQrdhfY5IZlDs=\");\n\n_c2 = AuthenticatedPosts;\n\nconst handleAddPost = () => {\n  _s2();\n\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n\n  const postSubmit = async () => {\n    const response = await fetch(\"https://strangers-things.herokuapp.com/api/2110-VPI-WEB-PT/posts\", {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'Application/json'\n      },\n      body: JSON.stringify({\n        title,\n        description,\n        price\n      })\n    });\n    const result = await response.json();\n    setTitle(\"\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Create Post\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: postSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"title\",\n        value: title,\n        onChange: event => {\n          setTitle(event.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"description\",\n        value: description,\n        onChange: event => {\n          setDescription(event.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"price\",\n        value: price,\n        onChange: event => {\n          setPrice(event.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"submitPost-Btn\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s2(handleAddPost, \"AL42W7sJo3c9yjx71sp3PPerATo=\");\n\nconst UnauthenticatedPosts = async () => {\n  const response = await fetch(\"https://strangers-things.herokuapp.com/api/2110-VPI-WEB-PT/posts\").then(response => response.json()).then(result => {\n    console.log(result);\n  }).catch(console.error);\n  return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 9\n  }, this);\n};\n\n_c3 = UnauthenticatedPosts;\nexport default Posts;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Posts\");\n$RefreshReg$(_c2, \"AuthenticatedPosts\");\n$RefreshReg$(_c3, \"UnauthenticatedPosts\");","map":{"version":3,"sources":["/home/mayankawasthi/Strangers.Things/src/components/Posts.js"],"names":["async","React","useState","Posts","userToken","localStorage","getItem","AuthenticatedPosts","posts","setPosts","response","fetch","then","json","result","console","log","data","post","catch","error","map","title","description","price","handleAddPost","handleDeletePost","_id","setTitle","setDescription","setPrice","postSubmit","method","headers","body","JSON","stringify","event","target","value","UnauthenticatedPosts"],"mappings":"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","sourcesContent":["import { async } from 'q';\r\nimport React, { useState } from 'react';\r\n\r\nconst Posts = () => {\r\n  const userToken = localStorage.getItem(\"userToken\");\r\n  return (\r\n    <>\r\n      {\r\n        userToken ? <AuthenticatedPosts /> : <UnauthenticatedPosts />\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nconst AuthenticatedPosts = async() => {\r\n  const [posts, setPosts] = useState([]);\r\n\r\n  const response = await fetch(\"https://strangers-things.herokuapp.com/api/2110-VPI-WEB-PT/posts\")\r\n    .then(response => response.json())\r\n    .then(result => {\r\n      console.log(result.data.post);\r\n      setPosts(result.data.post);\r\n    })\r\n    .catch(console.error);\r\n\r\n  return (\r\n    <>\r\n      {\r\n        posts.map(post => <div key={post._id}>  \r\n          <h3>{post.title}</h3>\r\n          <h3>{post.description}</h3>\r\n          <h3>{post.price}</h3>\r\n        \r\n          <button type=\"button\" className=\"add-Btn\"\r\n           onClick={handleAddPost}>Add Post</button>\r\n\r\n           <button type=\"button\" className=\"delete-Btn\"\r\n            onClick={handleDeletePost}>Delete Post</button>\r\n        </div>)\r\n      }\r\n    </>\r\n  )  \r\n\r\n}\r\n\r\nconst handleAddPost = () => {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [price, setPrice] = useState(\"\");\r\n\r\n  const postSubmit = async () => {\r\n    const response = await fetch(\"https://strangers-things.herokuapp.com/api/2110-VPI-WEB-PT/posts\", {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'Application/json',\r\n    },\r\n    body: JSON.stringify({title, description, price})\r\n  });\r\n  const result = await response.json();\r\n  setTitle(\"\")\r\n  }\r\n  return (\r\n    <>\r\n      <h3>Create Post</h3>\r\n\r\n      <form onSubmit={postSubmit}>\r\n        <input type=\"text\" placeholder = \"title\" value={title}\r\n         onChange = {(event) => {setTitle(event.target.value)}}></input>\r\n\r\n        <input type=\"text\" placeholder = \"description\" value={description}\r\n         onChange = {(event) => {setDescription(event.target.value)}}></input>  \r\n\r\n        <input type=\"text\" placeholder = \"price\" value={price}\r\n         onChange = {(event) => {setPrice(event.target.value)}}></input>\r\n\r\n         <button type=\"submit\" className=\"submitPost-Btn\">Submit</button>     \r\n\r\n      </form>\r\n    </>\r\n  )\r\n}\r\n\r\nconst UnauthenticatedPosts = async() => {\r\n  const response = await fetch(\"https://strangers-things.herokuapp.com/api/2110-VPI-WEB-PT/posts\")\r\n      .then(response => response.json())\r\n      .then(result => {\r\n        console.log(result);\r\n      })\r\n      .catch(console.error);\r\n  \r\n      return (\r\n        <div>\r\n  \r\n        </div>\r\n      )\r\n  }\r\n\r\n\r\nexport default Posts;"]},"metadata":{},"sourceType":"module"}