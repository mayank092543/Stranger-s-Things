{"ast":null,"code":"import _slicedToArray from\"/home/mayankawasthi/Strangers.Things/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SendMessage=function SendMessage(_ref){var posts=_ref.posts,setPosts=_ref.setPosts,postId=_ref.postId,setPostId=_ref.setPostId;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),content=_useState2[0],setContent=_useState2[1];var handleMessageSubmit=function handleMessageSubmit(event){event.preventDefault();var messageInfo={message:{content:\"\".concat(content)}};//console.log(messageInfo);\n//console.log(postId);\nvar token=localStorage.getItem(\"userToken\");var response=fetch(\"https://strangers-things.herokuapp.com/api/2110-VPI-WEB-PT/posts/\".concat(postId,\"/messages\"),{method:'POST',headers:{'Content-Type':'Application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify(messageInfo)}).then(function(response){return response.json();}).then(function(result){console.log(result);setContent(\"\");}).catch(console.error);};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleMessageSubmit,children:[/*#__PURE__*/_jsx(\"textarea\",{rows:\"4\",cols:\"30\",value:content,placeholder:\"Message...\",onChange:function onChange(event){return setContent(event.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"msg-Submit-Btn\",children:\"Submit\"})]});};export default SendMessage;","map":{"version":3,"sources":["/home/mayankawasthi/Strangers.Things/src/components/SendMessage.js"],"names":["React","useState","SendMessage","posts","setPosts","postId","setPostId","content","setContent","handleMessageSubmit","event","preventDefault","messageInfo","message","token","localStorage","getItem","response","fetch","method","headers","body","JSON","stringify","then","json","result","console","log","catch","error","target","value"],"mappings":"0HAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,C,wFAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAA4C,IAAzCC,CAAAA,KAAyC,MAAzCA,KAAyC,CAAlCC,QAAkC,MAAlCA,QAAkC,CAAxBC,MAAwB,MAAxBA,MAAwB,CAAhBC,SAAgB,MAAhBA,SAAgB,CAC5D,cAA8BL,QAAQ,CAAC,EAAD,CAAtC,wCAAOM,OAAP,eAAgBC,UAAhB,eAEA,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,KAAD,CAAW,CACnCA,KAAK,CAACC,cAAN,GACA,GAAIC,CAAAA,WAAW,CACf,CACIC,OAAO,CAAE,CACLN,OAAO,WAAKA,OAAL,CADF,CADb,CADA,CAMA;AACA;AAEA,GAAMO,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAd,CAEA,GAAMC,CAAAA,QAAQ,CAAGC,KAAK,4EAAqEb,MAArE,cAAwF,CAC1Gc,MAAM,CAAE,MADkG,CAE1GC,OAAO,CAAE,CACL,eAAgB,kBADX,CAEL,iCAA2BN,KAA3B,CAFK,CAFiG,CAM1GO,IAAI,CAAEC,IAAI,CAACC,SAAL,CACFX,WADE,CANoG,CAAxF,CAAL,CASdY,IATc,CAST,SAAAP,QAAQ,QAAIA,CAAAA,QAAQ,CAACQ,IAAT,EAAJ,EATC,EAUZD,IAVY,CAUP,SAAAE,MAAM,CAAI,CACZC,OAAO,CAACC,GAAR,CAAYF,MAAZ,EAEAlB,UAAU,CAAC,EAAD,CAAV,CAEH,CAfY,EAgBZqB,KAhBY,CAgBNF,OAAO,CAACG,KAhBF,CAAjB,CAiBH,CA9BD,CAgCA,mBACI,cAAM,QAAQ,CAAErB,mBAAhB,wBACI,iBAAU,IAAI,CAAC,GAAf,CAAmB,IAAI,CAAC,IAAxB,CAA6B,KAAK,CAAEF,OAApC,CAA6C,WAAW,CAAC,YAAzD,CACI,QAAQ,CAAE,kBAACG,KAAD,QAAWF,CAAAA,UAAU,CAACE,KAAK,CAACqB,MAAN,CAAaC,KAAd,CAArB,EADd,EADJ,cAII,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,gBAAhC,oBAJJ,GADJ,CAQH,CA3CD,CA6CA,cAAe9B,CAAAA,WAAf","sourcesContent":["import React, { useState } from 'react';\r\n\r\nconst SendMessage = ({ posts, setPosts, postId, setPostId }) => {\r\n    const [content, setContent] = useState(\"\");\r\n\r\n    const handleMessageSubmit = (event) => {\r\n        event.preventDefault();\r\n        let messageInfo =\r\n        {\r\n            message: {\r\n                content: `${content}`\r\n            }\r\n        }\r\n        //console.log(messageInfo);\r\n        //console.log(postId);\r\n        \r\n        const token = localStorage.getItem(\"userToken\")\r\n\r\n        const response = fetch(`https://strangers-things.herokuapp.com/api/2110-VPI-WEB-PT/posts/${postId}/messages`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'Application/json',\r\n                'Authorization': `Bearer ${token}`\r\n            },\r\n            body: JSON.stringify(\r\n                messageInfo\r\n            )\r\n        }).then(response => response.json())\r\n            .then(result => {\r\n                console.log(result);\r\n\r\n                setContent(\"\");\r\n\r\n            })\r\n            .catch(console.error);\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={handleMessageSubmit}>\r\n            <textarea rows=\"4\" cols=\"30\" value={content} placeholder=\"Message...\"\r\n                onChange={(event) => setContent(event.target.value)}></textarea>\r\n\r\n            <button type=\"submit\" className=\"msg-Submit-Btn\">Submit</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default SendMessage;"]},"metadata":{},"sourceType":"module"}