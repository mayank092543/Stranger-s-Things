{"ast":null,"code":"import _asyncToGenerator from\"/home/mayankawasthi/Strangers.Things/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/mayankawasthi/Strangers.Things/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/mayankawasthi/Strangers.Things/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var RegisterForm=function RegisterForm(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUserName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),confirmation=_useState6[0],setConfirmation=_useState6[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();if(password!==confirmation){alert(\"Password doesn't match\");setPassword(\"\");setConfirmation(\"\");}else{response=fetch('https://strangers-things.herokuapp.com/api/2110-VPI-WEB-PT/users/register',{method:'POST',headers:{'Content-Type':'Application/json'},body:JSON.stringify({user:{username:username,password:password}})}).then(function(response){return response.json();}).then(function(result){console.log(result);var token=result.data.token;localStorage.setItem(\"userToken\",token);}).catch(console.error);setUserName(\"\");setPassword(\"\");setConfirmation(\"\");}case 2:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{id:\"register\",children:\"Register Form\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",value:username,className:\"signupUsername\",onChange:function onChange(event){setUserName(event.target.value);},minLength:4,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:password,className:\"signupPassword\",onChange:function onChange(event){setPassword(event.target.value);},minLength:6,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password Confirmation\",value:confirmation,className:\"signupconfPassword\",onChange:function onChange(event){return setConfirmation(event.target.value);},required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-Btn\",children:\"Submit\"})]})]});};export default RegisterForm;","map":{"version":3,"sources":["/home/mayankawasthi/Strangers.Things/src/components/RegisterForm.js"],"names":["React","useState","RegisterForm","username","setUserName","password","setPassword","confirmation","setConfirmation","handleSubmit","event","preventDefault","alert","response","fetch","method","headers","body","JSON","stringify","user","then","json","result","console","log","token","data","localStorage","setItem","catch","error","target","value"],"mappings":"iXAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,C,6IAGA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvB,cAAgCD,QAAQ,CAAC,EAAD,CAAxC,wCAAOE,QAAP,eAAiBC,WAAjB,eACA,eAAgCH,QAAQ,CAAC,EAAD,CAAxC,yCAAOI,QAAP,eAAiBC,WAAjB,eACA,eAAwCL,QAAQ,CAAC,EAAD,CAAhD,yCAAOM,YAAP,eAAqBC,eAArB,eAGA,GAAMC,CAAAA,YAAY,0FAAG,iBAAOC,KAAP,+HACjBA,KAAK,CAACC,cAAN,GAEA,GAAIN,QAAQ,GAAKE,YAAjB,CAA+B,CAC3BK,KAAK,CAAC,wBAAD,CAAL,CACAN,WAAW,CAAC,EAAD,CAAX,CACAE,eAAe,CAAC,EAAD,CAAf,CACH,CAJD,IAIO,CACGK,QADH,CACcC,KAAK,CAAC,2EAAD,CAA8E,CAChGC,MAAM,CAAE,MADwF,CAEhGC,OAAO,CAAE,CACL,eAAgB,kBADX,CAFuF,CAKhGC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBC,IAAI,CAAE,CACFjB,QAAQ,CAAEA,QADR,CAEFE,QAAQ,CAAEA,QAFR,CADW,CAAf,CAL0F,CAA9E,CAAL,CAWdgB,IAXc,CAWT,SAAAR,QAAQ,QAAIA,CAAAA,QAAQ,CAACS,IAAT,EAAJ,EAXC,EAYZD,IAZY,CAYP,SAAAE,MAAM,CAAI,CACZC,OAAO,CAACC,GAAR,CAAYF,MAAZ,EACA,GAAMG,CAAAA,KAAK,CAAGH,MAAM,CAACI,IAAP,CAAYD,KAA1B,CACAE,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAkCH,KAAlC,EACH,CAhBY,EAiBZI,KAjBY,CAiBNN,OAAO,CAACO,KAjBF,CADd,CAoBH3B,WAAW,CAAC,EAAD,CAAX,CACAE,WAAW,CAAC,EAAD,CAAX,CACAE,eAAe,CAAC,EAAD,CAAf,CAEH,CA/BgB,sDAAH,kBAAZC,CAAAA,YAAY,4CAAlB,CAkCA,mBACI,wCACI,WAAI,EAAE,CAAC,UAAP,2BADJ,cAGI,cAAM,QAAQ,CAAEA,YAAhB,wBACI,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,UAA/B,CACI,KAAK,CAAEN,QADX,CACqB,SAAS,CAAC,gBAD/B,CAEI,QAAQ,CAAE,kBAACO,KAAD,CAAW,CAAEN,WAAW,CAACM,KAAK,CAACsB,MAAN,CAAaC,KAAd,CAAX,CAAiC,CAF5D,CAGI,SAAS,CAAE,CAHf,CAGkB,QAAQ,KAH1B,EADJ,cAOI,cAAO,IAAI,CAAC,UAAZ,CAAuB,WAAW,CAAC,UAAnC,CACI,KAAK,CAAE5B,QADX,CACqB,SAAS,CAAC,gBAD/B,CAEI,QAAQ,CAAE,kBAACK,KAAD,CAAW,CAAEJ,WAAW,CAACI,KAAK,CAACsB,MAAN,CAAaC,KAAd,CAAX,CAAiC,CAF5D,CAGI,SAAS,CAAE,CAHf,CAGkB,QAAQ,KAH1B,EAPJ,cAaI,cAAO,IAAI,CAAC,UAAZ,CAAuB,WAAW,CAAC,uBAAnC,CACI,KAAK,CAAE1B,YADX,CACyB,SAAS,CAAC,oBADnC,CAEI,QAAQ,CAAE,kBAACG,KAAD,QAAWF,CAAAA,eAAe,CAACE,KAAK,CAACsB,MAAN,CAAaC,KAAd,CAA1B,EAFd,CAGI,QAAQ,KAHZ,EAbJ,cAmBI,aAnBJ,cAmBa,aAnBb,cAqBI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,YAAhC,oBArBJ,GAHJ,GADJ,CA6BH,CArED,CAuEA,cAAe/B,CAAAA,YAAf","sourcesContent":["import React, { useState } from 'react';\r\n\r\n\r\nconst RegisterForm = () => {\r\n    const [username, setUserName] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [confirmation, setConfirmation] = useState(\"\");\r\n\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n\r\n        if (password !== confirmation) {\r\n            alert(\"Password doesn't match\")\r\n            setPassword(\"\")\r\n            setConfirmation(\"\")\r\n        } else {\r\n            const response = fetch('https://strangers-things.herokuapp.com/api/2110-VPI-WEB-PT/users/register', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'Application/json',\r\n                },\r\n                body: JSON.stringify({\r\n                    user: {\r\n                        username: username,\r\n                        password: password\r\n                    }\r\n                })\r\n            }).then(response => response.json())\r\n                .then(result => {\r\n                    console.log(result);\r\n                    const token = result.data.token;\r\n                    localStorage.setItem(\"userToken\", token)\r\n                })\r\n                .catch(console.error);\r\n\r\n            setUserName(\"\");\r\n            setPassword(\"\");\r\n            setConfirmation(\"\");\r\n\r\n        }\r\n\r\n    }\r\n    return (\r\n        <>\r\n            <h1 id=\"register\">Register Form</h1>\r\n\r\n            <form onSubmit={handleSubmit}>\r\n                <input type=\"text\" placeholder=\"Username\"\r\n                    value={username} className=\"signupUsername\"\r\n                    onChange={(event) => { setUserName(event.target.value) }}\r\n                    minLength={4} required>\r\n                </input>\r\n\r\n                <input type=\"password\" placeholder=\"Password\"\r\n                    value={password} className=\"signupPassword\"\r\n                    onChange={(event) => { setPassword(event.target.value) }}\r\n                    minLength={6} required>\r\n                </input>\r\n\r\n                <input type=\"password\" placeholder=\"Password Confirmation\"\r\n                    value={confirmation} className=\"signupconfPassword\"\r\n                    onChange={(event) => setConfirmation(event.target.value)}\r\n                    required>\r\n                </input>\r\n\r\n                <br></br><br></br>\r\n\r\n                <button type=\"submit\" className=\"submit-Btn\">Submit</button>\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default RegisterForm;"]},"metadata":{},"sourceType":"module"}