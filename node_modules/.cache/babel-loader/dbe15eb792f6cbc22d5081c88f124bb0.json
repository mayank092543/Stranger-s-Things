{"ast":null,"code":"var _jsxFileName = \"/home/mayankawasthi/Strangers.Things/src/components/SendMessage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SendMessage = _ref => {\n  _s();\n\n  let {\n    posts,\n    setPosts,\n    postId,\n    setPostId\n  } = _ref;\n  const [content, setContent] = useState(\"\");\n\n  const handleMessageSubmit = event => {\n    event.preventDefault();\n    let messageInfo = {\n      message: {\n        content: `${content}`\n      }\n    };\n    console.log(messageInfo); // console.log(localStorage.getItem(\"userToken\"));\n\n    console.log(postId);\n    const token = localStorage.getItem(\"userToken\");\n    const response = fetch(`https://strangers-things.herokuapp.com/api/2110-VPI-WEB-PT/posts/${postId}/messages`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'Application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify(messageInfo)\n    }).then(response => response.json()).then(result => {\n      console.log(result);\n      setContent(\"\");\n    }).catch(console.error);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleMessageSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n      rows: \"4\",\n      cols: \"30\",\n      value: content,\n      placeholder: \"Message...\",\n      onChange: event => setContent(event.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"msg-Submit-Btn\",\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SendMessage, \"KPwtwb4lt1NZxOwnjhyyIoKb9lQ=\");\n\n_c = SendMessage;\nexport default SendMessage;\n\nvar _c;\n\n$RefreshReg$(_c, \"SendMessage\");","map":{"version":3,"sources":["/home/mayankawasthi/Strangers.Things/src/components/SendMessage.js"],"names":["React","useState","SendMessage","posts","setPosts","postId","setPostId","content","setContent","handleMessageSubmit","event","preventDefault","messageInfo","message","console","log","token","localStorage","getItem","response","fetch","method","headers","body","JSON","stringify","then","json","result","catch","error","target","value"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;;;AAEA,MAAMC,WAAW,GAAG,QAA4C;AAAA;;AAAA,MAA3C;AAAEC,IAAAA,KAAF;AAASC,IAAAA,QAAT;AAAmBC,IAAAA,MAAnB;AAA2BC,IAAAA;AAA3B,GAA2C;AAC5D,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAAC,EAAD,CAAtC;;AAEA,QAAMQ,mBAAmB,GAAIC,KAAD,IAAW;AACnCA,IAAAA,KAAK,CAACC,cAAN;AACA,QAAIC,WAAW,GACf;AACIC,MAAAA,OAAO,EAAE;AACLN,QAAAA,OAAO,EAAG,GAAEA,OAAQ;AADf;AADb,KADA;AAOAO,IAAAA,OAAO,CAACC,GAAR,CAAYH,WAAZ,EATmC,CAUnC;;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAYV,MAAZ;AAGA,UAAMW,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAd;AAEA,UAAMC,QAAQ,GAAGC,KAAK,CAAE,oEAAmEf,MAAO,WAA5E,EAAwF;AAC1GgB,MAAAA,MAAM,EAAE,MADkG;AAE1GC,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,yBAAkB,UAASN,KAAM;AAF5B,OAFiG;AAM1GO,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CACFb,WADE;AANoG,KAAxF,CAAL,CASdc,IATc,CASTP,QAAQ,IAAIA,QAAQ,CAACQ,IAAT,EATH,EAUZD,IAVY,CAUPE,MAAM,IAAI;AACZd,MAAAA,OAAO,CAACC,GAAR,CAAYa,MAAZ;AAEApB,MAAAA,UAAU,CAAC,EAAD,CAAV;AAEH,KAfY,EAgBZqB,KAhBY,CAgBNf,OAAO,CAACgB,KAhBF,CAAjB;AAiBH,GAjCD;;AAmCA,sBACI;AAAM,IAAA,QAAQ,EAAErB,mBAAhB;AAAA,4BACI;AAAU,MAAA,IAAI,EAAC,GAAf;AAAmB,MAAA,IAAI,EAAC,IAAxB;AAA6B,MAAA,KAAK,EAAEF,OAApC;AAA6C,MAAA,WAAW,EAAC,YAAzD;AACI,MAAA,QAAQ,EAAGG,KAAD,IAAWF,UAAU,CAACE,KAAK,CAACqB,MAAN,CAAaC,KAAd;AADnC;AAAA;AAAA;AAAA;AAAA,YADJ,eAII;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,SAAS,EAAC,gBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAQH,CA9CD;;GAAM9B,W;;KAAAA,W;AAgDN,eAAeA,WAAf","sourcesContent":["import React, { useState } from 'react';\r\n\r\nconst SendMessage = ({ posts, setPosts, postId, setPostId }) => {\r\n    const [content, setContent] = useState(\"\");\r\n\r\n    const handleMessageSubmit = (event) => {\r\n        event.preventDefault();\r\n        let messageInfo =\r\n        {\r\n            message: {\r\n                content: `${content}`\r\n            }\r\n        }\r\n\r\n        console.log(messageInfo);\r\n        // console.log(localStorage.getItem(\"userToken\"));\r\n        console.log(postId);\r\n\r\n\r\n        const token = localStorage.getItem(\"userToken\")\r\n\r\n        const response = fetch(`https://strangers-things.herokuapp.com/api/2110-VPI-WEB-PT/posts/${postId}/messages`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'Application/json',\r\n                'Authorization': `Bearer ${token}`\r\n            },\r\n            body: JSON.stringify(\r\n                messageInfo\r\n            )\r\n        }).then(response => response.json())\r\n            .then(result => {\r\n                console.log(result);\r\n\r\n                setContent(\"\");\r\n\r\n            })\r\n            .catch(console.error);\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={handleMessageSubmit}>\r\n            <textarea rows=\"4\" cols=\"30\" value={content} placeholder=\"Message...\"\r\n                onChange={(event) => setContent(event.target.value)}></textarea>\r\n\r\n            <button type=\"submit\" className=\"msg-Submit-Btn\">Submit</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default SendMessage;"]},"metadata":{},"sourceType":"module"}