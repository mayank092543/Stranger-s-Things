{"ast":null,"code":"import _asyncToGenerator from\"/home/mayankawasthi/Strangers.Things/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/mayankawasthi/Strangers.Things/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/mayankawasthi/Strangers.Things/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var UnauthenticatedPosts=function UnauthenticatedPosts(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),searchTerm=_useState4[0],setSearchTerm=_useState4[1];useEffect(function(){var fetchPosts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://strangers-things.herokuapp.com/api/2110-VPI-WEB-PT/posts\").then(function(response){return response.json();}).then(function(result){console.log(result.data.posts);setPosts(result.data.posts);}).catch(console.error);case 2:response=_context.sent;case 3:case\"end\":return _context.stop();}}},_callee);}));return function fetchPosts(){return _ref.apply(this,arguments);};}();fetchPosts();},[]);function postMatches(post,text){if(post.title.toLowerCase().includes(text.toLowerCase())){return true;}}var filteredPosts=posts.filter(function(post){return postMatches(post,searchTerm);});var postsToDisplay=searchTerm.length?filteredPosts:posts;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{id:\"logoutPost\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Posts\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search Post...\",value:searchTerm,className:\"search-Bar\",onChange:function onChange(event){return setSearchTerm(event.target.value);}})]}),postsToDisplay.map(function(post){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:post.title}),/*#__PURE__*/_jsx(\"p\",{children:post.description}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Price: \",post.price]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Seller: \",post.author.username]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Location: \",post.location]})]},post._id);})]});};export default UnauthenticatedPosts;","map":{"version":3,"sources":["/home/mayankawasthi/Strangers.Things/src/components/UnauthenticatedPost.js"],"names":["React","useState","useEffect","UnauthenticatedPosts","posts","setPosts","searchTerm","setSearchTerm","fetchPosts","fetch","then","response","json","result","console","log","data","catch","error","postMatches","post","text","title","toLowerCase","includes","filteredPosts","filter","postsToDisplay","length","event","target","value","map","description","price","author","username","location","_id"],"mappings":"iXAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,C,6IAEA,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,EAAM,CAC/B,cAA0BF,QAAQ,CAAC,EAAD,CAAlC,wCAAOG,KAAP,eAAcC,QAAd,eACA,eAAoCJ,QAAQ,CAAC,EAAD,CAA5C,yCAAOK,UAAP,eAAmBC,aAAnB,eAEAL,SAAS,CAAC,UAAM,CACZ,GAAMM,CAAAA,UAAU,0FAAG,sKACQC,CAAAA,KAAK,CAAC,kEAAD,CAAL,CAClBC,IADkB,CACb,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADK,EAElBF,IAFkB,CAEb,SAAAG,MAAM,CAAI,CACZC,OAAO,CAACC,GAAR,CAAYF,MAAM,CAACG,IAAP,CAAYZ,KAAxB,EACAC,QAAQ,CAACQ,MAAM,CAACG,IAAP,CAAYZ,KAAb,CAAR,CACH,CALkB,EAMlBa,KANkB,CAMZH,OAAO,CAACI,KANI,CADR,QACTP,QADS,qEAAH,kBAAVH,CAAAA,UAAU,0CAAhB,CASAA,UAAU,GACb,CAXQ,CAWN,EAXM,CAAT,CAaA,QAASW,CAAAA,WAAT,CAAqBC,IAArB,CAA2BC,IAA3B,CAAiC,CAC7B,GAAID,IAAI,CAACE,KAAL,CAAWC,WAAX,GAAyBC,QAAzB,CAAkCH,IAAI,CAACE,WAAL,EAAlC,CAAJ,CAA2D,CACvD,MAAO,KAAP,CACH,CACJ,CAED,GAAME,CAAAA,aAAa,CAAGrB,KAAK,CAACsB,MAAN,CAAa,SAAAN,IAAI,QAAID,CAAAA,WAAW,CAACC,IAAD,CAAOd,UAAP,CAAf,EAAjB,CAAtB,CACA,GAAMqB,CAAAA,cAAc,CAAGrB,UAAU,CAACsB,MAAX,CAAoBH,aAApB,CAAoCrB,KAA3D,CAEA,mBACI,wCACI,aAAK,EAAE,CAAC,YAAR,wBACA,6BADA,cAGA,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,gBAA/B,CACC,KAAK,CAAEE,UADR,CACoB,SAAS,CAAC,YAD9B,CAEC,QAAQ,CAAE,kBAACuB,KAAD,QAAWtB,CAAAA,aAAa,CAACsB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAxB,EAFX,EAHA,GADJ,CAWQJ,cAAc,CAACK,GAAf,CAAmB,SAACZ,IAAD,qBACf,oCACI,oBAAKA,IAAI,CAACE,KAAV,EADJ,cAEI,mBAAIF,IAAI,CAACa,WAAT,EAFJ,cAGI,gCAAYb,IAAI,CAACc,KAAjB,GAHJ,cAII,iCAAad,IAAI,CAACe,MAAL,CAAYC,QAAzB,GAJJ,cAKI,mCAAehB,IAAI,CAACiB,QAApB,GALJ,GAAUjB,IAAI,CAACkB,GAAf,CADe,EAAnB,CAXR,GADJ,CAwBH,CAlDD,CAoDA,cAAenC,CAAAA,oBAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nconst UnauthenticatedPosts = () => {\r\n    const [posts, setPosts] = useState([]);\r\n    const [searchTerm, setSearchTerm] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        const fetchPosts = async () => {\r\n            const response = await fetch(\"https://strangers-things.herokuapp.com/api/2110-VPI-WEB-PT/posts\")\r\n                .then(response => response.json())\r\n                .then(result => {\r\n                    console.log(result.data.posts);\r\n                    setPosts(result.data.posts);\r\n                })\r\n                .catch(console.error);\r\n        }\r\n        fetchPosts();\r\n    }, [])\r\n\r\n    function postMatches(post, text) {\r\n        if (post.title.toLowerCase().includes(text.toLowerCase())) {\r\n            return true\r\n        }\r\n    }\r\n\r\n    const filteredPosts = posts.filter(post => postMatches(post, searchTerm));\r\n    const postsToDisplay = searchTerm.length ? filteredPosts : posts;\r\n\r\n    return (\r\n        <>\r\n            <div id=\"logoutPost\">\r\n            <h1>Posts</h1>\r\n\r\n            <input type=\"text\" placeholder=\"Search Post...\"\r\n             value={searchTerm} className=\"search-Bar\"\r\n             onChange={(event) => setSearchTerm(event.target.value)}></input>\r\n\r\n             </div>\r\n\r\n            {\r\n                postsToDisplay.map((post) => (\r\n                    <div key={post._id}>\r\n                        <h2>{post.title}</h2>\r\n                        <p>{post.description}</p>\r\n                        <h3>Price: {post.price}</h3>\r\n                        <h3>Seller: {post.author.username}</h3>\r\n                        <h3>Location: {post.location}</h3>\r\n                    </div>)\r\n                )}\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default UnauthenticatedPosts;"]},"metadata":{},"sourceType":"module"}